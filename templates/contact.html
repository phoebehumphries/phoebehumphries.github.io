{% extends "base.html" %}
<!--This uses the base/html and loads it in and fits the block content in the space left for it.-->

<link rel="stylesheet" type="text/css" href= {{url_for('static', filename="login.css")}}>
<!--# This loads the css for the contact page.-->

{% block content %}
    <h2 class="center-block thin white-text" >Contact Page</h2>

<!--# Title for page.-->

  {% if success %}

<!--#If else statement to make sure the user has done everything correctly and what happens if they haven't.-->

<div class=" white-text center">

     <!--   # If the user has successfully filled in every aspect correctly, the page will take them to this on the contact page.
        # It's a gif saying thank you and saying that I will get back to their email shortly.-->

        <img class="15-px" src="https://images.urbanoutfitters.com/is/image/UrbanOutfitters/30968168_001_s" style="width: auto; height: auto;max-width: 15px;max-height: 15px"/>
              <h3>I will get back to you shortly!</h3>
              <img class="15-px" src="https://images.urbanoutfitters.com/is/image/UrbanOutfitters/30968168_001_s" style="width: auto; height: auto;max-width: 15px;max-height: 15px"/>
              <iframe class="center-block" src="https://cdn.dribbble.com/users/1072657/screenshots/3533171/thank_you_animation.gif" width="805" height="605"></iframe>
              <img class="15-px" src="https://images.urbanoutfitters.com/is/image/UrbanOutfitters/30968168_001_s" style="width: auto; height: auto;max-width: 50px;max-height: 50px"/>
    </div>
  {% else %}
<div class="row">
     <div class="col s12 m12 l12">
<!--# The .errors attribute is for each form field to pull the specific error messages and loop.-->
    {% for message in form.name.errors %}
      <div class="white-text" class="flash">{{ message }}</div>
    {% endfor %}

    {% for message in form.email.errors %}
      <div class="white-text" class="flash">{{ message }}</div>
    {% endfor %}

    {% for message in form.subject.errors %}
      <div class="white-text" class="flash">{{ message }}</div>
    {% endfor %}

    {% for message in form.message.errors %}
      <div class="white-text" class="flash">{{ message }}</div>
    {% endfor %}

  <!--  # I specify where to send the form data on submission, by setting the form action attribute to the contact(), inside routes.py.-->
    <form class="white-text" action="{{ url_for('contact') }}" method=post>
      {{ form.hidden_tag() }}

<!--# By inserting a hidden tag, its their to protect against CSRF exploits.
# Jinja2 template engine generates the majority of the form.
# Pressing submit button will either bring up validation checks or run the code if/else and load the success page contents.-->

      {{ form.name.label }}
      {{ form.name }}


      {{ form.email.label }}
      {{ form.email }}

      {{ form.subject.label }}
      {{ form.subject }}
      {{ form.message.label }}
      {{ form.message }}
      <img class="15-px" src="https://images.urbanoutfitters.com/is/image/UrbanOutfitters/30968168_001_s" style="width: auto; height: auto;max-width: 50px;max-height: 50px"/>

        <div class="black-text">
            <button class="btn waves-effect cyan darken-4 waves-light" type="submit" name="action" action=""><i>{{ form.submit }}</i>
            </button>
        </div>
    </div>
    </div>

    </form>

      <img class="15-px" src="https://images.urbanoutfitters.com/is/image/UrbanOutfitters/30968168_001_s" style="width: auto; height: auto;max-width: 150px;max-height: 150px"/>


  {% endif %}
{% endblock %}